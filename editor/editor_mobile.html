<!DOCTYPE html>
<html>
<head>
    <title>LiteGraph</title>
		
		<!-- Javi Agenjo (@tamat) on 31/9/2011 -->
		<!-- Daniel Lewis (mr_pebble) on 2024-03 -->
		
    <link rel="stylesheet" type="text/css" href="../css/litegraph.css">
    <link rel="stylesheet" type="text/css" href="../css/litegraph-editor.css">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div id="main">
	</div>

	<script src="../external/jquery-1.6.2.min.js"></script>
	<!-- <script src="https://tamats.com/projects/sillyserver/src/sillyclient.js"></script> -->
	<!-- <script src="https://unpkg.com/codeflask/build/codeflask.min.js"></script> -->
	<script src="js/libs/gl-matrix-min.js"></script>
	<script src="js/libs/audiosynth.js"></script>
	<script src="js/libs/midi-parser.js"></script>

	<!-- Core -->
  <script src="../src/LiteGraph.js"></script>
  <script src="../src/LGraph.js"></script>
  <script src="../src/LLink.js"></script>
  <script src="../src/LGraphNode.js"></script>
  <script src="../src/LGraphGroup.js"></script>
  <script src="../src/DragAndScale.js"></script>
  <script src="../src/LGraphCanvas.js"></script>
  <script src="../src/ContextMenu.js"></script>
  <script src="../src/CurveEditor.js"></script>
  <script src="../src/Editor.js"></script>
  <script src="js/defaults.js"></script>

	<!-- Library -->
	<script src="../src/nodes/base.js"></script>
  <script src="../src/nodes/logic.js"></script>
  <script src="../src/nodes/events.js"></script>
  <script src="../src/nodes/math.js"></script>
  <script src="../src/nodes/math3d.js"></script>
  <script src="../src/nodes/strings.js"></script>
  <script src="../src/nodes/interface.js"></script>
  <script src="../src/nodes/geometry.js"></script>
  <script src="../src/nodes/graphics.js"></script>
  <script src="../src/nodes/input.js"></script>
  <script src="../src/nodes/midi.js"></script>
	<script src="../src/nodes/audio.js"></script>
	<script src="../src/nodes/network.js"></script>

	<script src="js/demos.js"></script>
	<script src="js/code.js"></script>

	<script src="../src/nodes/others.js"></script>

	<!--  htmlConsole use to debug on mobile, include and set editorUseHtmlConsole in defaults.js -->
	<!-- enable console style, html, js enabling/disabling this comment here->  -->
		
	    <link rel="stylesheet" href="//htmlacademy.github.io/console.js/latest/css/style.css">
	    <style>
	    	.invisible{ display: none; }
	    	.console__row{
	    		margin: 1px;
				padding: 2px;
			}
			.console-container{
				min-width: 200px;
				background: rgba(255,255,255,0.1);
				position: fixed;
				top: 38px;
				left: 0;
				overflow: auto;
				height: calc(100%-38px);
			}
			.console-container.small{
				max-width: 30%;
			}
			.graphcanvas{
				/*WONT WORK touch-action: manipulation;*/
				/*touch-action: none;*/
				touch-action: pinch-zoom;
			}
	    </style>
		
		<div id="console-container" class="litegraph-editor console-container small invisible" style="">
			<div class="console-tools" style="position: absolute; top: 0; right:0; z-index:2;">
				<button class='btn' id='btn_console_close'>close</button>
				<button class='btn' id='btn_console_clear'>clear</button>
			</div>
		</div>
		
		<script src="//htmlacademy.github.io/console.js/latest/js/index.js"></script>
		<script>
		
			var editorUseHtmlConsole = true; // enable html console to debug on mobile
		
			// ToBarSelector
			if(editorUseHtmlConsole){
				document.getElementById("LGEditorTopBarSelector").innerHTML = "<button class='btn' id='btn_console'>Console</button> "
																				+document.getElementById("LGEditorTopBarSelector").innerHTML;
			}
			
			// html console
			if(editorUseHtmlConsole){
				elem.querySelector("#btn_console").addEventListener("click", function(){
					var consoleCnt = document.getElementById('console-container');
					if (consoleCnt.classList.contains("invisible")){
						consoleCnt.classList.remove("invisible");
					}else{
						jsConsole.clean();
						consoleCnt.classList.add("invisible");
					}	
				});
				
			
				const params = {
					expandDepth : 1,
					common : {
						excludeProperties : ['__proto__'],
						removeProperties: ['__proto__'],
						maxFieldsInHead : 5,
						minFieldsToAutoexpand : 5,
						maxFieldsToAutoexpand : 15
					}
				};
				var jsConsole = new Console(document.querySelector('.console-container'), params);
				jsConsole.log("Here is console.log!");
			    
				// map console log-debug to jsConsole
				console.log = function(par){
			    	jsConsole.log(par);
			    	var objDiv = document.getElementById("console-container");
					objDiv.scrollTop = objDiv.scrollHeight;
			    }
			    console.debug = console.log;
			    
			    console.log("going into html console");
			    
			    document.getElementById("btn_console_clear").addEventListener("click", function(){
			    	var consoleCnt = document.getElementById('console-container');
			    	jsConsole.clean();
			    });
			    document.getElementById("btn_console_close").addEventListener("click", function(){
			    	var consoleCnt = document.getElementById('console-container');
			    	consoleCnt.classList.add("invisible");
			    });
			}
		</script>
	<!--  -->

</body>
</html>
